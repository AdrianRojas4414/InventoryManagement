˛
sC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\WeatherForecast.cs
	namespace 	
InventoryManagement
 
; 
public 
class 
WeatherForecast 
{ 
public 

DateOnly 
Date 
{ 
get 
; 
set  #
;# $
}% &
public 

int 
TemperatureC 
{ 
get !
;! "
set# &
;& '
}( )
public		 

int		 
TemperatureF		 
=>		 
$num		 !
+		" #
(		$ %
int		% (
)		( )
(		) *
TemperatureC		* 6
/		7 8
$num		9 ?
)		? @
;		@ A
public 

string 
? 
Summary 
{ 
get  
;  !
set" %
;% &
}' (
} û)
kC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
Env 
. 
Load 
( 	
Path	 
. 
Combine 
( 
	Directory 
.  
GetCurrentDirectory  3
(3 4
)4 5
,5 6
$str7 ;
,; <
$str= C
)C D
)D E
;E F
var 
dbHost 

= 
$str 
; 
var 
dbName 

= 
$str $
;$ %
var 
dbUser 

= 
Env 
. 
	GetString 
( 
$str $
)$ %
;% &
var 
dbPass 

= 
Env 
. 
	GetString 
( 
$str (
)( )
;) *
var 
connectionString 
= 
$" 
$str  
{  !
dbHost! '
}' (
$str( 2
{2 3
dbName3 9
}9 :
$str: @
{@ A
dbUserA G
}G H
$strH R
{R S
dbPassS Y
}Y Z
$strZ [
"[ \
;\ ]
builder 
. 
Services 
. 
AddDbContext 
< 
InventoryDbContext 0
>0 1
(1 2
options2 9
=>: <
options 
. 
UseMySql 
( 
connectionString %
,% &
ServerVersion' 4
.4 5

AutoDetect5 ?
(? @
connectionString@ P
)P Q
)Q R
) 
; 
builder 
. 
Services 
. 
	AddScoped 
< 
IUserRepository *
,* +
UserRepository, :
>: ;
(; <
)< =
;= >
builder 
. 
Services 
. 
	AddScoped 
< 
ISupplierRepository .
,. /
SupplierRepository0 B
>B C
(C D
)D E
;E F
builder 
. 
Services 
. 
	AddScoped 
< 
ICategoryRepository .
,. /
CategoryRepository0 B
>B C
(C D
)D E
;E F
builder 
. 
Services 
. 
	AddScoped 
< 
IProductRepository -
,- .
ProductRepository/ @
>@ A
(A B
)B C
;C D
builder   
.   
Services   
.   
AddControllers   
(    
)    !
;  ! "
builder!! 
.!! 
Services!! 
.!! #
AddEndpointsApiExplorer!! (
(!!( )
)!!) *
;!!* +
builder"" 
."" 
Services"" 
."" 
AddSwaggerGen"" 
("" 
)""  
;""  !
builder%% 
.%% 
Services%% 
.%% 
AddCors%% 
(%% 
options%%  
=>%%! #
{&& 
options'' 
.'' 
	AddPolicy'' 
('' 
$str'' $
,''$ %
policy(( 
=>(( 
{)) 	
policy** 
.** 
WithOrigins** 
(** 
$str** 6
)**6 7
.++ 
AllowAnyHeader++ !
(++! "
)++" #
.,, 
AllowAnyMethod,, !
(,,! "
),," #
.-- 
AllowCredentials-- #
(--# $
)--$ %
;--% &
}.. 	
)..	 

;..
 
}// 
)// 
;// 
var11 
app11 
=11 	
builder11
 
.11 
Build11 
(11 
)11 
;11 
if44 
(44 
app44 
.44 
Environment44 
.44 
IsDevelopment44 !
(44! "
)44" #
)44# $
{55 
app66 
.66 

UseSwagger66 
(66 
)66 
;66 
app77 
.77 
UseSwaggerUI77 
(77 
)77 
;77 
}88 
app;; 
.;; 
UseHttpsRedirection;; 
(;; 
);; 
;;; 
app== 
.== 
UseCors== 
(== 
$str== 
)== 
;== 
app?? 
.?? 
UseAuthorization?? 
(?? 
)?? 
;?? 
appAA 
.AA 
MapControllersAA 
(AA 
)AA 
;AA 
appCC 
.CC 
RunCC 
(CC 
)CC 	
;CC	 
·
éC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Infrastructure\Repositories\UserRepository.cs
	namespace 	
InventoryManagement
 
. 
Infrastructure ,
., -
Repositories- 9
{ 
public 

class 
UserRepository 
:  !
IUserRepository" 1
{		 
private

 
readonly

 
InventoryDbContext

 +
_context

, 4
;

4 5
public 
UserRepository 
( 
InventoryDbContext 0
context1 8
)8 9
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
User 
? 
>  
GetByUsernameAsync! 3
(3 4
string4 :
username; C
)C D
{ 	
return 
await 
_context !
.! "
Users" '
.! "
FirstOrDefaultAsync" 5
(5 6
u6 7
=>8 :
u; <
.< =
Username= E
==F H
usernameI Q
)Q R
;R S
} 	
public 
async 
Task 
AddUserAsync &
(& '
User' +
user, 0
)0 1
{ 	
await 
_context 
. 
Users  
.  !
AddAsync! )
() *
user* .
). /
;/ 0
await 
_context 
. 
SaveChangesAsync +
(+ ,
), -
;- .
} 	
public 
async 
Task 
UpdateUserAsync )
() *
User* .
user/ 3
)3 4
{ 	
_context 
. 
Users 
. 
Update !
(! "
user" &
)& '
;' (
await   
_context   
.   
SaveChangesAsync   +
(  + ,
)  , -
;  - .
}!! 	
public## 
async## 
Task## 
<## 
List## 
<## 
User## #
>### $
>##$ %
GetAllUsersAsync##& 6
(##6 7
)##7 8
{$$ 	
return%% 
await%% 
_context%% !
.%%! "
Users%%" '
.%%' (
ToListAsync%%( 3
(%%3 4
)%%4 5
;%%5 6
}&& 	
public(( 
async(( 
Task(( 
<(( 
User(( 
?(( 
>((  
GetByIdAsync((! -
(((- .
short((. 3
id((4 6
)((6 7
{)) 	
return** 
await** 
_context** !
.**! "
Users**" '
.**' (
	FindAsync**( 1
(**1 2
id**2 4
)**4 5
;**5 6
}++ 	
},, 
}-- É
íC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Infrastructure\Repositories\SupplierRepository.cs
	namespace 	
InventoryManagement
 
. 
Infrastructure ,
., -
Repositories- 9
;9 :
public 
class 
SupplierRepository 
:  !
ISupplierRepository" 5
{		 
private

 
readonly

 
InventoryDbContext

 '
_context

( 0
;

0 1
public 

SupplierRepository 
( 
InventoryDbContext 0
context1 8
)8 9
{ 
_context 
= 
context 
; 
} 
public 

async 
Task 
< 
Supplier 
? 
>  
GetByIdAsync! -
(- .
short. 3
id4 6
)6 7
{ 
return 
await 
_context 
. 
	Suppliers '
.' (
	FindAsync( 1
(1 2
id2 4
)4 5
;5 6
} 
public 

async 
Task 
< 
List 
< 
Supplier #
># $
>$ %
GetAllAsync& 1
(1 2
)2 3
{ 
return 
await 
_context 
. 
	Suppliers '
.' (
Where( -
(- .
s. /
=>0 2
s3 4
.4 5
Status5 ;
==< >
$num? @
)@ A
.A B
ToListAsyncB M
(M N
)N O
;O P
} 
public 

async 
Task 
AddAsync 
( 
Supplier '
supplier( 0
)0 1
{ 
await 
_context 
. 
	Suppliers  
.  !
AddAsync! )
() *
supplier* 2
)2 3
;3 4
await 
_context 
. 
SaveChangesAsync '
(' (
)( )
;) *
}   
public"" 

async"" 
Task"" 
UpdateAsync"" !
(""! "
Supplier""" *
supplier""+ 3
)""3 4
{## 
_context$$ 
.$$ 
	Suppliers$$ 
.$$ 
Update$$ !
($$! "
supplier$$" *
)$$* +
;$$+ ,
await%% 
_context%% 
.%% 
SaveChangesAsync%% '
(%%' (
)%%( )
;%%) *
}&& 
}'' ¨
ëC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Infrastructure\Repositories\ProductRepository.cs
	namespace 	
InventoryManagement
 
. 
Infrastructure ,
., -
Repositories- 9
;9 :
public 
class 
ProductRepository 
:  
IProductRepository! 3
{		 
private

 
readonly

 
InventoryDbContext

 '
_context

( 0
;

0 1
public 

ProductRepository 
( 
InventoryDbContext /
context0 7
)7 8
{ 
_context 
= 
context 
; 
} 
public 

async 
Task 
< 
List 
< 
Product "
>" #
># $
GetAllAsync% 0
(0 1
)1 2
{ 
return 
await 
_context 
. 
Products &
.& '
ToListAsync' 2
(2 3
)3 4
;4 5
} 
public 

async 
Task 
AddAsync 
( 
Product &
product' .
). /
{ 
await 
_context 
. 
Products 
.  
AddAsync  (
(( )
product) 0
)0 1
;1 2
await 
_context 
. 
SaveChangesAsync '
(' (
)( )
;) *
} 
} ç

íC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Infrastructure\Repositories\CategoryRepository.cs
	namespace 	
InventoryManagement
 
. 
Infrastructure ,
., -
Repositories- 9
;9 :
public 
class 
CategoryRepository 
:  !
ICategoryRepository" 5
{		 
private

 
readonly

 
InventoryDbContext

 '
_context

( 0
;

0 1
public 

CategoryRepository 
( 
InventoryDbContext 0
context1 8
)8 9
{ 
_context 
= 
context 
; 
} 
public 

async 
Task 
AddAsync 
( 
Category '
category( 0
)0 1
{ 
await 
_context 
. 

Categories !
.! "
AddAsync" *
(* +
category+ 3
)3 4
;4 5
await 
_context 
. 
SaveChangesAsync '
(' (
)( )
;) *
} 
} ∂
ëC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Infrastructure\Persistence\InventoryDbContext.cs
	namespace 	
InventoryManagement
 
. 
Infrastructure ,
., -
Persistence- 8
;8 9
public 
class 
InventoryDbContext 
:  !
	DbContext" +
{ 
public 

InventoryDbContext 
( 
DbContextOptions .
<. /
InventoryDbContext/ A
>A B
optionsC J
)J K
:L M
baseN R
(R S
optionsS Z
)Z [
{		 
}

 
public 

DbSet 
< 
Product 
> 
Products "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 

DbSet 
< 
Supplier 
> 
	Suppliers $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 

DbSet 
< 
Category 
> 

Categories %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 

DbSet 
< 
User 
> 
Users 
{ 
get "
;" #
set$ '
;' (
}) *
public 

DbSet 
< 
Purchase 
> 
	Purchases $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 

DbSet 
< 
PurchaseDetail 
>  
PurchaseDetails! 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
public 

DbSet 
< 
SupplierProduct  
>  !
SupplierProducts" 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
public 

DbSet 
< 
ProductPriceHistory $
>$ %!
ProductPriceHistories& ;
{< =
get> A
;A B
setC F
;F G
}H I
	protected 
override 
void 
OnModelCreating +
(+ ,
ModelBuilder, 8
modelBuilder9 E
)E F
{ 
modelBuilder 
. 
Entity 
< 
PurchaseDetail *
>* +
(+ ,
), -
. 
HasKey 
( 
pd 
=> 
new 
{ 
pd  "
." #

PurchaseId# -
,- .
pd/ 1
.1 2
	ProductId2 ;
}< =
)= >
;> ?
modelBuilder 
. 
Entity 
< 
SupplierProduct +
>+ ,
(, -
)- .
. 
HasKey 
( 
sp 
=> 
new 
{ 
sp  "
." #

SupplierId# -
,- .
sp/ 1
.1 2
	ProductId2 ;
}< =
)= >
;> ?
modelBuilder 
. 
Entity 
< 
ProductPriceHistory /
>/ 0
(0 1
)1 2
. 
HasKey 
( 
ph 
=> 
new 
{ 
ph  "
." #
	ProductId# ,
,, -
ph. 0
.0 1

SupplierId1 ;
,; <
ph= ?
.? @

PurchaseId@ J
}K L
)L M
;M N
} 
}   Œ
xC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Domain\Entities\User.cs
	namespace 	
InventoryManagement
 
. 
Domain $
.$ %
Entities% -
;- .
[ 
Table 
( 
$str 
) 
] 
public 
class 
User 
: 
AuditableEntity #
{ 
[		 
Key		 
]		 	
public

 

short

 
Id

 
{

 
get

 
;

 
set

 
;

 
}

  !
[ 
Required 
] 
[ 
	MaxLength 
( 
$num 
) 
] 
[ 
Column 
( 
$str 
) 
] 
public 

string 
Username 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
[ 
Required 
] 
[ 
	MaxLength 
( 
$num 
) 
] 
[ 
Column 
( 
$str 
) 
] 
public 

string 
PasswordHash 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
null/ 3
!3 4
;4 5
[ 
Required 
] 
[ 
	MaxLength 
( 
$num 
) 
] 
[ 
Column 
( 
$str 
) 
] 
public 

string 
	FirstName 
{ 
get !
;! "
set# &
;& '
}( )
=* +
null, 0
!0 1
;1 2
[ 
Required 
] 
[ 
	MaxLength 
( 
$num 
) 
] 
[ 
Column 
( 
$str 
) 
] 
public 

string 
LastName 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
[   
	MaxLength   
(   
$num   
)   
]   
[!! 
Column!! 
(!! 
$str!! 
)!! 
]!!  
public"" 

string"" 
?"" 
SecondLastName"" !
{""" #
get""$ '
;""' (
set"") ,
;"", -
}"". /
[$$ 
Required$$ 
]$$ 
[%% 
	MaxLength%% 
(%% 
$num%% 
)%% 
]%% 
[&& 
Column&& 
(&& 
$str&& 
)&& 
]&& 
public'' 

string'' 
Role'' 
{'' 
get'' 
;'' 
set'' !
;''! "
}''# $
=''% &
null''' +
!''+ ,
;'', -
}(( Í
ÉC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Domain\Entities\SupplierProduct.cs
	namespace 	
InventoryManagement
 
. 
Domain $
.$ %
Entities% -
;- .
[ 
Table 
( 
$str 
) 
] 
public 
class 
SupplierProduct 
: 
AuditableEntity .
{ 
public 

short 

SupplierId 
{ 
get !
;! "
set# &
;& '
}( )
public		 

short		 
	ProductId		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
[ 
Column 
( 
TypeName 
= 
$str '
)' (
]( )
public 

decimal 
ProductCost 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

required 
virtual 
Supplier $
Supplier% -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 

required 
virtual 
Product #
Product$ +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
} ‡
|C:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Domain\Entities\Supplier.cs
	namespace 	
InventoryManagement
 
. 
Domain $
.$ %
Entities% -
;- .
[ 
Table 
( 
$str 
) 
] 
public 
class 
Supplier 
: 
AuditableEntity '
{ 
[		 
Key		 
]		 	
public

 

short

 
Id

 
{

 
get

 
;

 
set

 
;

 
}

  !
[ 
Required 
] 
[ 
	MaxLength 
( 
$num 
) 
] 
[ 
Column 
( 
$str 
) 
] 
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
=% &
null' +
!+ ,
;, -
[ 
	MaxLength 
( 
$num 
) 
] 
[ 
Column 
( 
$str 
) 
] 
public 

string 
? 
Nit 
{ 
get 
; 
set !
;! "
}# $
[ 
Column 
( 
$str 
) 
] 
public 

string 
? 
Address 
{ 
get  
;  !
set" %
;% &
}' (
[ 
	MaxLength 
( 
$num 
) 
] 
[ 
Column 
( 
$str 
) 
] 
public 

string 
? 
Phone 
{ 
get 
; 
set  #
;# $
}% &
[ 
	MaxLength 
( 
$num 
) 
] 
[ 
Column 
( 
$str 
) 
] 
public 

string 
? 
Email 
{ 
get 
; 
set  #
;# $
}% &
[   
	MaxLength   
(   
$num   
)   
]   
[!! 
Column!! 
(!! 
$str!! 
)!! 
]!! 
public"" 

string"" 
?"" 
ContactName"" 
{""  
get""! $
;""$ %
set""& )
;"") *
}""+ ,
public%% 

virtual%% 
ICollection%% 
<%% 
SupplierProduct%% .
>%%. /
SupplierProducts%%0 @
{%%A B
get%%C F
;%%F G
set%%H K
;%%K L
}%%M N
=%%O P
new%%Q T
List%%U Y
<%%Y Z
SupplierProduct%%Z i
>%%i j
(%%j k
)%%k l
;%%l m
}&& ”
ÇC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Domain\Entities\PurchaseDetail.cs
	namespace 	
InventoryManagement
 
. 
Domain $
.$ %
Entities% -
;- .
[ 
Table 
( 
$str 
) 
] 
public 
class 
PurchaseDetail 
{ 
public 

int 

PurchaseId 
{ 
get 
;  
set! $
;$ %
}& '
public		 

short		 
	ProductId		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
public 

short 
Quantity 
{ 
get 
;  
set! $
;$ %
}& '
[ 
Column 
( 
TypeName 
= 
$str '
)' (
]( )
public 

decimal 
	UnitPrice 
{ 
get "
;" #
set$ '
;' (
}) *
public 

required 
virtual 
Purchase $
Purchase% -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 

required 
virtual 
Product #
Product$ +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
} Ø
|C:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Domain\Entities\Purchase.cs
	namespace 	
InventoryManagement
 
. 
Domain $
.$ %
Entities% -
;- .
[ 
Table 
( 
$str 
) 
] 
public 
class 
Purchase 
: 
AuditableEntity '
{ 
[		 
Key		 
]		 	
public

 

int

 
Id

 
{

 
get

 
;

 
set

 
;

 
}

 
[ 
Column 
( 
TypeName 
= 
$str '
)' (
]( )
public 

decimal 
TotalPurchase  
{! "
get# &
;& '
set( +
;+ ,
}- .
[ 

ForeignKey 
( 
$str 
) 
] 
public 

short 

SupplierId 
{ 
get !
;! "
set# &
;& '
}( )
public 

required 
virtual 
Supplier $
Supplier% -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 

required 
virtual 
ICollection '
<' (
PurchaseDetail( 6
>6 7
PurchaseDetails8 G
{H I
getJ M
;M N
setO R
;R S
}T U
} Œ
áC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Domain\Entities\ProductPriceHistory.cs
	namespace 	
InventoryManagement
 
. 
Domain $
.$ %
Entities% -
;- .
[ 
Table 
( 
$str 
) 
]  
public 
class 
ProductPriceHistory  
{ 
public 

short 
	ProductId 
{ 
get  
;  !
set" %
;% &
}' (
public		 

short		 

SupplierId		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
public

 

int

 

PurchaseId

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
[ 
Column 
( 
TypeName 
= 
$str '
)' (
]( )
public 

decimal 
PurchasePrice  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

DateTime 
PurchaseDate  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

required 
virtual 
Product #
Product$ +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
public 

required 
virtual 
Supplier $
Supplier% -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 

required 
virtual 
Purchase $
Purchase% -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
} —
{C:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Domain\Entities\Product.cs
	namespace 	
InventoryManagement
 
. 
Domain $
.$ %
Entities% -
;- .
[ 
Table 
( 
$str 
) 
] 
public 
class 
Product 
: 
AuditableEntity &
{ 
[		 
Key		 
]		 	
[

 
DatabaseGenerated

 
(

 #
DatabaseGeneratedOption

 .
.

. /
None

/ 3
)

3 4
]

4 5
[ 
Column 
( 
$str 
) 
] 
public 

short 
Id 
{ 
get 
; 
set 
; 
}  !
[ 
Required 
] 
[ 
	MaxLength 
( 
$num 
) 
] 
[ 
Column 
( 
$str 
) 
] 
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
=% &
null' +
!+ ,
;, -
[ 
Column 
( 
$str 
) 
] 
public 

string 
? 
Description 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 
Column 
( 
$str 
) 
] 
public 

short 

TotalStock 
{ 
get !
;! "
set# &
;& '
}( )
=* +
$num, -
;- .
[ 

ForeignKey 
( 
$str 
) 
] 
[ 
Column 
( 
$str 
) 
] 
public 

required 
short 

CategoryId $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 

virtual 
Category 
Category $
{% &
get' *
;* +
set, /
;/ 0
}1 2
=3 4
null5 9
!9 :
;: ;
public   

virtual   
ICollection   
<   
SupplierProduct   .
>  . /
SupplierProducts  0 @
{  A B
get  C F
;  F G
set  H K
;  K L
}  M N
=  O P
new  Q T
List  U Y
<  Y Z
SupplierProduct  Z i
>  i j
(  j k
)  k l
;  l m
public## 

virtual## 
ICollection## 
<## 
PurchaseDetail## -
>##- .
PurchaseDetails##/ >
{##? @
get##A D
;##D E
set##F I
;##I J
}##K L
=##M N
new##O R
List##S W
<##W X
PurchaseDetail##X f
>##f g
(##g h
)##h i
;##i j
}$$ Ñ
|C:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Domain\Entities\Category.cs
	namespace 	
InventoryManagement
 
. 
Domain $
.$ %
Entities% -
;- .
[ 
Table 
( 
$str 
) 
] 
public 
class 
Category 
: 
AuditableEntity '
{ 
[		 
Key		 
]		 	
[

 
Column

 
(

 
$str

 
)

 
]

 
public 

short 
Id 
{ 
get 
; 
set 
; 
}  !
[ 
Required 
] 
[ 
	MaxLength 
( 
$num 
) 
] 
[ 
Column 
( 
$str 
) 
] 
public 

required 
string 
Name 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
null0 4
!4 5
;5 6
[ 
Column 
( 
$str 
) 
] 
public 

string 
? 
Description 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

virtual 
ICollection 
< 
Product &
>& '
Products( 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
=? @
newA D
ListE I
<I J
ProductJ Q
>Q R
(R S
)S T
;T U
} †
ÉC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Domain\Entities\AuditableEntity.cs
	namespace 	
InventoryManagement
 
. 
Domain $
.$ %
Entities% -
;- .
public 
abstract 
class 
AuditableEntity %
{ 
[ 
Column 
( 
$str 
) 
]  
public 

short 
? 
CreatedByUserId !
{" #
get$ '
;' (
set) ,
;, -
}. /
[		 
Column		 
(		 
$str		 
)		 
]		 
public

 

DateTime

 
CreationDate

  
{

! "
get

# &
;

& '
set

( +
;

+ ,
}

- .
[ 
Column 
( 
$str 
)  
]  !
public 

DateTime 
ModificationDate $
{% &
get' *
;* +
set, /
;/ 0
}1 2
[ 
Column 
( 
$str 
) 
] 
public 

byte 
Status 
{ 
get 
; 
set !
;! "
}# $
public 

virtual 
User 
? 
CreatedByUser &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
=5 6
null7 ;
!; <
;< =
} ç
âC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Controllers\WeatherForecastController.cs
	namespace 	
InventoryManagement
 
. 
Controllers )
;) *
[ 
ApiController 
] 
[ 
Route 
( 
$str 
) 
] 
public 
class %
WeatherForecastController &
:' (
ControllerBase) 7
{ 
private		 
static		 
readonly		 
string		 "
[		" #
]		# $
	Summaries		% .
=		/ 0
new		1 4
[		4 5
]		5 6
{

 
$str 
, 
$str 
, 
$str '
,' (
$str) /
,/ 0
$str1 7
,7 8
$str9 ?
,? @
$strA H
,H I
$strJ O
,O P
$strQ ]
,] ^
$str_ j
} 
; 
private 
readonly 
ILogger 
< %
WeatherForecastController 6
>6 7
_logger8 ?
;? @
public 
%
WeatherForecastController $
($ %
ILogger% ,
<, -%
WeatherForecastController- F
>F G
loggerH N
)N O
{ 
_logger 
= 
logger 
; 
} 
[ 
HttpGet 
( 
Name 
= 
$str (
)( )
]) *
public 

IEnumerable 
< 
WeatherForecast &
>& '
Get( +
(+ ,
), -
{ 
return 

Enumerable 
. 
Range 
(  
$num  !
,! "
$num# $
)$ %
.% &
Select& ,
(, -
index- 2
=>3 5
new6 9
WeatherForecast: I
{ 	
Date 
= 
DateOnly 
. 
FromDateTime (
(( )
DateTime) 1
.1 2
Now2 5
.5 6
AddDays6 =
(= >
index> C
)C D
)D E
,E F
TemperatureC 
= 
Random !
.! "
Shared" (
.( )
Next) -
(- .
-. /
$num/ 1
,1 2
$num3 5
)5 6
,6 7
Summary 
= 
	Summaries 
[  
Random  &
.& '
Shared' -
.- .
Next. 2
(2 3
	Summaries3 <
.< =
Length= C
)C D
]D E
} 	
)	 

. 	
ToArray	 
( 
) 
; 
} 
}   —R
C:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Controllers\UsersController.cs
	namespace 	
InventoryManagement
 
. 
Controllers )
;) *
[		 
ApiController		 
]		 
[

 
Route

 
(

 
$str

 
)

 
]

 
public 
class 
UsersController 
: 
ControllerBase -
{ 
private 
readonly 
InventoryDbContext '
_context( 0
;0 1
private 
const 
string 
	AdminRole "
=# $
$str% ,
;, -
public 

UsersController 
( 
InventoryDbContext -
context. 5
)5 6
{ 
_context 
= 
context 
; 
} 
[ 
HttpPost 
] 
public 

async 
Task 
< 
IActionResult #
># $

CreateUser% /
(/ 0
[0 1
FromBody1 9
]9 :
CreateUserDto; H
userDtoI P
,P Q
[R S

FromHeaderS ]
]] ^
string_ e
userRolef n
)n o
{ 
if 

( 
userRole 
!= 
	AdminRole !
)! "
{ 	
return 
Forbid 
( 
$str G
)G H
;H I
} 	
if 

( 
userDto 
== 
null 
) 
{ 	
return   

BadRequest   
(   
)   
;    
}!! 	
var## 
newUser## 
=## 
new## 
User## 
{$$ 	
Username%% 
=%% 
userDto%% 
.%% 
Username%% '
!%%' (
,%%( )
PasswordHash'' 
='' 
userDto'' "
.''" #
Password''# +
!''+ ,
,'', -
	FirstName(( 
=(( 
userDto(( 
.((  
	FirstName((  )
!(() *
,((* +
LastName)) 
=)) 
userDto)) 
.)) 
LastName)) '
!))' (
,))( )
SecondLastName** 
=** 
userDto** $
.**$ %
SecondLastName**% 3
,**3 4
Role++ 
=++ 
userDto++ 
.++ 
Role++ 
!++  
,++  !
Status,, 
=,, 
$num,, 
,,, 
CreationDate-- 
=-- 
DateTime-- #
.--# $
UtcNow--$ *
,--* +
ModificationDate.. 
=.. 
DateTime.. '
...' (
UtcNow..( .
,... /
}// 	
;//	 

await11 
_context11 
.11 
Users11 
.11 
AddAsync11 %
(11% &
newUser11& -
)11- .
;11. /
await22 
_context22 
.22 
SaveChangesAsync22 '
(22' (
)22( )
;22) *
return44 
Ok44 
(44 
newUser44 
)44 
;44 
}55 
[77 

HttpDelete77 
(77 
$str77 
)77 
]77 
public88 

async88 
Task88 
<88 
IActionResult88 #
>88# $
DeactivateUser88% 3
(883 4
short884 9
id88: <
,88< =
[88> ?

FromHeader88? I
]88I J
string88K Q
userRole88R Z
)88Z [
{99 
if:: 

(:: 
userRole:: 
!=:: 
	AdminRole:: !
)::! "
return;; 
Forbid;; 
(;; 
$str;; M
);;M N
;;;N O
var== 
user== 
=== 
await== 
_context== !
.==! "
Users==" '
.==' (
	FindAsync==( 1
(==1 2
id==2 4
)==4 5
;==5 6
if>> 

(>> 
user>> 
==>> 
null>> 
)>> 
return>>  
NotFound>>! )
(>>) *
$str>>* B
)>>B C
;>>C D
user@@ 
.@@ 
Status@@ 
=@@ 
$num@@ 
;@@ 
userAA 
.AA 
ModificationDateAA 
=AA 
DateTimeAA  (
.AA( )
UtcNowAA) /
;AA/ 0
_contextCC 
.CC 
UsersCC 
.CC 
UpdateCC 
(CC 
userCC "
)CC" #
;CC# $
awaitDD 
_contextDD 
.DD 
SaveChangesAsyncDD '
(DD' (
)DD( )
;DD) *
returnFF 
OkFF 
(FF 
$strFF 7
)FF7 8
;FF8 9
}GG 
[JJ 
HttpPutJJ 
(JJ 
$strJJ 
)JJ 
]JJ 
publicKK 

asyncKK 
TaskKK 
<KK 
IActionResultKK #
>KK# $

UpdateUserKK% /
(KK/ 0
shortKK0 5
idKK6 8
,KK8 9
[KK: ;
FromBodyKK; C
]KKC D
CreateUserDtoKKE R
userDtoKKS Z
,KKZ [
[KK\ ]

FromHeaderKK] g
]KKg h
stringKKi o
userRoleKKp x
)KKx y
{LL 
ifMM 

(MM 
userRoleMM 
!=MM 
	AdminRoleMM !
)MM! "
returnNN 
ForbidNN 
(NN 
$strNN L
)NNL M
;NNM N
ifPP 

(PP 
userDtoPP 
==PP 
nullPP 
)PP 
returnQQ 

BadRequestQQ 
(QQ 
$strQQ E
)QQE F
;QQF G
ifSS 

(SS 
!SS 

ModelStateSS 
.SS 
IsValidSS 
)SS  
returnTT 

BadRequestTT 
(TT 

ModelStateTT (
)TT( )
;TT) *
varVV 
userVV 
=VV 
awaitVV 
_contextVV !
.VV! "
UsersVV" '
.VV' (
	FindAsyncVV( 1
(VV1 2
idVV2 4
)VV4 5
;VV5 6
ifWW 

(WW 
userWW 
==WW 
nullWW 
)WW 
returnWW  
NotFoundWW! )
(WW) *
$strWW* B
)WWB C
;WWC D
userZZ 
.ZZ 
UsernameZZ 
=ZZ 
userDtoZZ 
.ZZ  
UsernameZZ  (
;ZZ( )
user[[ 
.[[ 
	FirstName[[ 
=[[ 
userDto[[  
.[[  !
	FirstName[[! *
;[[* +
user\\ 
.\\ 
LastName\\ 
=\\ 
userDto\\ 
.\\  
LastName\\  (
;\\( )
user]] 
.]] 
SecondLastName]] 
=]] 
userDto]] %
.]]% &
SecondLastName]]& 4
;]]4 5
user^^ 
.^^ 
Role^^ 
=^^ 
userDto^^ 
.^^ 
Role^^  
;^^  !
user__ 
.__ 
ModificationDate__ 
=__ 
DateTime__  (
.__( )
UtcNow__) /
;__/ 0
_contextaa 
.aa 
Usersaa 
.aa 
Updateaa 
(aa 
useraa "
)aa" #
;aa# $
awaitbb 
_contextbb 
.bb 
SaveChangesAsyncbb '
(bb' (
)bb( )
;bb) *
returndd 
Okdd 
(dd 
userdd 
)dd 
;dd 
}ee 
[gg 
HttpPutgg 
(gg 
$strgg 
)gg 
]gg 
publichh 

asynchh 
Taskhh 
<hh 
IActionResulthh #
>hh# $
UpdateUserRolehh% 3
(hh3 4
shorthh4 9
idhh: <
,hh< =
[hh> ?
FromBodyhh? G
]hhG H
stringhhI O
newRolehhP W
)hhW X
{ii 
varjj 
userRolejj 
=jj 
Requestjj 
.jj 
Cookiesjj &
[jj& '
$strjj' 1
]jj1 2
;jj2 3
ifkk 

(kk 
userRolekk 
!=kk 
	AdminRolekk !
)kk! "
returnkk# )
Forbidkk* 0
(kk0 1
$strkk1 ]
)kk] ^
;kk^ _
varmm 
usermm 
=mm 
awaitmm 
_contextmm !
.mm! "
Usersmm" '
.mm' (
	FindAsyncmm( 1
(mm1 2
idmm2 4
)mm4 5
;mm5 6
ifnn 

(nn 
usernn 
==nn 
nullnn 
)nn 
returnnn  
NotFoundnn! )
(nn) *
$strnn* B
)nnB C
;nnC D
userpp 
.pp 
Rolepp 
=pp 
newRolepp 
;pp 
userqq 
.qq 
ModificationDateqq 
=qq 
DateTimeqq  (
.qq( )
UtcNowqq) /
;qq/ 0
_contextss 
.ss 
Usersss 
.ss 
Updatess 
(ss 
userss "
)ss" #
;ss# $
awaittt 
_contexttt 
.tt 
SaveChangesAsynctt '
(tt' (
)tt( )
;tt) *
returnvv 
Okvv 
(vv 
uservv 
)vv 
;vv 
}ww 
[zz 
HttpGetzz 
]zz 
public{{ 

async{{ 
Task{{ 
<{{ 
IActionResult{{ #
>{{# $
GetAllUsers{{% 0
({{0 1
){{1 2
{|| 
var}} 
users}} 
=}} 
await}} 
_context}} "
.}}" #
Users}}# (
.}}( )
ToListAsync}}) 4
(}}4 5
)}}5 6
;}}6 7
return~~ 
Ok~~ 
(~~ 
users~~ 
)~~ 
;~~ 
} 
}ÄÄ ÖC
ÉC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Controllers\SuppliersController.cs
	namespace 	
InventoryManagement
 
. 
Controllers )
;) *
[		 
ApiController		 
]		 
[

 
Route

 
(

 
$str

 
)

 
]

 
public 
class 
SuppliersController  
:! "
ControllerBase# 1
{ 
private 
readonly 
ISupplierRepository (
_supplierRepository) <
;< =
public 

SuppliersController 
( 
ISupplierRepository 2
supplierRepository3 E
)E F
{ 
_supplierRepository 
= 
supplierRepository 0
;0 1
} 
[ 
HttpGet 
] 
public 

async 
Task 
< 
IActionResult #
># $
GetAllSuppliers% 4
(4 5
)5 6
{ 
var 
	suppliers 
= 
await 
_supplierRepository 1
.1 2
GetAllAsync2 =
(= >
)> ?
;? @
return 
Ok 
( 
	suppliers 
) 
; 
} 
[ 
HttpGet 
( 
$str 
) 
] 
public 

async 
Task 
< 
IActionResult #
># $
GetSupplierById% 4
(4 5
short5 :
id; =
)= >
{ 
var   
supplier   
=   
await   
_supplierRepository   0
.  0 1
GetByIdAsync  1 =
(  = >
id  > @
)  @ A
;  A B
if!! 

(!! 
supplier!! 
==!! 
null!! 
||!! 
supplier!!  (
.!!( )
Status!!) /
==!!0 2
$num!!3 4
)!!4 5
{"" 	
return## 
NotFound## 
(## 
$str## 6
)##6 7
;##7 8
}$$ 	
return%% 
Ok%% 
(%% 
supplier%% 
)%% 
;%% 
}&& 
[)) 
HttpPost)) 
])) 
public** 

async** 
Task** 
<** 
IActionResult** #
>**# $
CreateSupplier**% 3
(**3 4
[**4 5
FromBody**5 =
]**= >
CreateSupplierDto**? P
supplierDto**Q \
,**\ ]
[**^ _

FromHeader**_ i
]**i j
short**k p
userId**q w
)**w x
{++ 
var,, 
newSupplier,, 
=,, 
new,, 
Supplier,, &
{-- 	
Name.. 
=.. 
supplierDto.. 
... 
Name.. #
,..# $
Nit// 
=// 
supplierDto// 
.// 
Nit// !
,//! "
Address00 
=00 
supplierDto00 !
.00! "
Address00" )
,00) *
Phone11 
=11 
supplierDto11 
.11  
Phone11  %
,11% &
Email22 
=22 
supplierDto22 
.22  
Email22  %
,22% &
ContactName33 
=33 
supplierDto33 %
.33% &
ContactName33& 1
,331 2
Status44 
=44 
$num44 
,44 
CreationDate55 
=55 
DateTime55 #
.55# $
UtcNow55$ *
,55* +
ModificationDate66 
=66 
DateTime66 '
.66' (
UtcNow66( .
,66. /
CreatedByUserId77 
=77 
userId77 $
}88 	
;88	 

await:: 
_supplierRepository:: !
.::! "
AddAsync::" *
(::* +
newSupplier::+ 6
)::6 7
;::7 8
return;; 
CreatedAtAction;; 
(;; 
nameof;; %
(;;% &
GetSupplierById;;& 5
);;5 6
,;;6 7
new;;8 ;
{;;< =
id;;> @
=;;A B
newSupplier;;C N
.;;N O
Id;;O Q
};;R S
,;;S T
newSupplier;;U `
);;` a
;;;a b
}<< 
[?? 
HttpPut?? 
(?? 
$str?? 
)?? 
]?? 
public@@ 

async@@ 
Task@@ 
<@@ 
IActionResult@@ #
>@@# $
UpdateSupplier@@% 3
(@@3 4
short@@4 9
id@@: <
,@@< =
[@@> ?
FromBody@@? G
]@@G H
UpdateSupplierDto@@I Z
supplierDto@@[ f
)@@f g
{AA 
varBB 
supplierBB 
=BB 
awaitBB 
_supplierRepositoryBB 0
.BB0 1
GetByIdAsyncBB1 =
(BB= >
idBB> @
)BB@ A
;BBA B
ifCC 

(CC 
supplierCC 
==CC 
nullCC 
||CC 
supplierCC  (
.CC( )
StatusCC) /
==CC0 2
$numCC3 4
)CC4 5
{DD 	
returnEE 
NotFoundEE 
(EE 
$strEE 6
)EE6 7
;EE7 8
}FF 	
supplierHH 
.HH 
NameHH 
=HH 
supplierDtoHH #
.HH# $
NameHH$ (
;HH( )
supplierII 
.II 
NitII 
=II 
supplierDtoII "
.II" #
NitII# &
;II& '
supplierJJ 
.JJ 
AddressJJ 
=JJ 
supplierDtoJJ &
.JJ& '
AddressJJ' .
;JJ. /
supplierKK 
.KK 
PhoneKK 
=KK 
supplierDtoKK $
.KK$ %
PhoneKK% *
;KK* +
supplierLL 
.LL 
EmailLL 
=LL 
supplierDtoLL $
.LL$ %
EmailLL% *
;LL* +
supplierMM 
.MM 
ContactNameMM 
=MM 
supplierDtoMM *
.MM* +
ContactNameMM+ 6
;MM6 7
supplierNN 
.NN 
ModificationDateNN !
=NN" #
DateTimeNN$ ,
.NN, -
UtcNowNN- 3
;NN3 4
awaitPP 
_supplierRepositoryPP !
.PP! "
UpdateAsyncPP" -
(PP- .
supplierPP. 6
)PP6 7
;PP7 8
returnQQ 
OkQQ 
(QQ 
supplierQQ 
)QQ 
;QQ 
}RR 
[UU 

HttpDeleteUU 
(UU 
$strUU 
)UU 
]UU 
publicVV 

asyncVV 
TaskVV 
<VV 
IActionResultVV #
>VV# $
DeactivateSupplierVV% 7
(VV7 8
shortVV8 =
idVV> @
,VV@ A
[VVB C

FromHeaderVVC M
]VVM N
stringVVO U
userRoleVVV ^
)VV^ _
{WW 
ifXX 

(XX 
userRoleXX 
!=XX 
$strXX 
)XX  
{YY 	
returnZZ 
ForbidZZ 
(ZZ 
$strZZ o
)ZZo p
;ZZp q
}[[ 	
var]] 
supplier]] 
=]] 
await]] 
_supplierRepository]] 0
.]]0 1
GetByIdAsync]]1 =
(]]= >
id]]> @
)]]@ A
;]]A B
if^^ 

(^^ 
supplier^^ 
==^^ 
null^^ 
)^^ 
{__ 	
return`` 
NotFound`` 
(`` 
$str`` 6
)``6 7
;``7 8
}aa 	
suppliercc 
.cc 
Statuscc 
=cc 
$numcc 
;cc 
supplierdd 
.dd 
ModificationDatedd !
=dd" #
DateTimedd$ ,
.dd, -
UtcNowdd- 3
;dd3 4
awaitff 
_supplierRepositoryff !
.ff! "
UpdateAsyncff" -
(ff- .
supplierff. 6
)ff6 7
;ff7 8
returngg 
Okgg 
(gg 
$strgg 9
)gg9 :
;gg: ;
}hh 
}ii ∑
ÇC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Controllers\ProductsController.cs
	namespace 	
InventoryManagement
 
. 
Controllers )
;) *
[		 
ApiController		 
]		 
[

 
Route

 
(

 
$str

 
)

 
]

 
public 
class 
ProductsController 
:  !
ControllerBase" 0
{ 
private 
readonly 
IProductRepository '
_productRepository( :
;: ;
public 

ProductsController 
( 
IProductRepository 0
productRepository1 B
)B C
{ 
_productRepository 
= 
productRepository .
;. /
} 
[ 
HttpGet 
] 
public 

async 
Task 
< 
IActionResult #
># $
GetAllProducts% 3
(3 4
)4 5
{ 
var 
products 
= 
await 
_productRepository /
./ 0
GetAllAsync0 ;
(; <
)< =
;= >
return 
Ok 
( 
products 
) 
; 
} 
[ 
HttpPost 
] 
public 

async 
Task 
< 
IActionResult #
># $
CreateProduct% 2
(2 3
[3 4
FromBody4 <
]< =
CreateProductDto> N

productDtoO Y
,Y Z
[[ \

FromHeader\ f
]f g
shorth m
userIdn t
)t u
{ 
var   

newProduct   
=   
new   
Product   $
{!! 	
Id"" 
="" 

productDto"" 
."" 
Id"" 
,"" 
Name## 
=## 

productDto## 
.## 
Name## "
,##" #
Description$$ 
=$$ 

productDto$$ $
.$$$ %
Description$$% 0
,$$0 1

CategoryId%% 
=%% 

productDto%% #
.%%# $

CategoryId%%$ .
,%%. /

TotalStock&& 
=&& 

productDto&& #
.&&# $

TotalStock&&$ .
,&&. /
Status'' 
='' 
$num'' 
,'' 
CreationDate(( 
=(( 
DateTime(( #
.((# $
UtcNow(($ *
,((* +
ModificationDate)) 
=)) 
DateTime)) '
.))' (
UtcNow))( .
,)). /
CreatedByUserId** 
=** 
userId** $
}++ 	
;++	 

await-- 
_productRepository--  
.--  !
AddAsync--! )
(--) *

newProduct--* 4
)--4 5
;--5 6
return.. 
Ok.. 
(.. 

newProduct.. 
).. 
;.. 
}// 
}00 ⁄
ÇC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Controllers\CategoryController.cs
	namespace 	
InventoryManagement
 
. 
Controllers )
;) *
[ 
ApiController 
] 
[		 
Route		 
(		 
$str		 
)		 
]		 
public

 
class

  
CategoriesController

 !
:

" #
ControllerBase

$ 2
{ 
private 
readonly 
ICategoryRepository (
_categoryRepository) <
;< =
public 
 
CategoriesController 
(  
ICategoryRepository  3
categoryRepository4 F
)F G
{ 
_categoryRepository 
= 
categoryRepository 0
;0 1
} 
[ 
HttpPost 
] 
public 

async 
Task 
< 
IActionResult #
># $
CreateCategory% 3
(3 4
[4 5
FromBody5 =
]= >
CreateCategoryDto? P
categoryDtoQ \
,\ ]
[] ^

FromHeader^ h
]h i
shortj o
userIdp v
)v w
{ 
var 
newCategory 
= 
new 
Category &
{ 	
Name 
= 
categoryDto 
. 
Name #
,# $
Description 
= 
categoryDto %
.% &
Description& 1
,1 2
Status 
= 
$num 
, 
CreationDate 
= 
DateTime #
.# $
UtcNow$ *
,* +
ModificationDate 
= 
DateTime '
.' (
UtcNow( .
,. /
CreatedByUserId 
= 
userId $
} 	
;	 

await!! 
_categoryRepository!! !
.!!! "
AddAsync!!" *
(!!* +
newCategory!!+ 6
)!!6 7
;!!7 8
return## 
Ok## 
(## 
newCategory## 
)## 
;## 
}$$ 
}%% ™!
~C:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Controllers\AuthController.cs
	namespace 	
InventoryManagement
 
. 
Controllers )
{ 
[ 
ApiController 
] 
[		 
Route		 

(		
 
$str		 
)		 
]		 
public

 

class

 
AuthController

 
:

  !
ControllerBase

" 0
{ 
private 
readonly 
IUserRepository (
_userRepository) 8
;8 9
public 
AuthController 
( 
IUserRepository -
userRepository. <
)< =
{ 	
_userRepository 
= 
userRepository ,
;, -
} 	
[ 	
HttpPost	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Login) .
(. /
[/ 0
FromBody0 8
]8 9
InventoryManagement: M
.M N
ApplicationN Y
.Y Z
DTOsZ ^
.^ _
LoginDto_ g
loginDtoh p
)p q
{ 	
if 
( 
loginDto 
== 
null  
||! #
string$ *
.* +
IsNullOrEmpty+ 8
(8 9
loginDto9 A
.A B
UsernameB J
)J K
||L N
stringO U
.U V
IsNullOrEmptyV c
(c d
loginDtod l
.l m
Passwordm u
)u v
)v w
{ 
return 

BadRequest !
(! "
$str" D
)D E
;E F
} 
var 
user 
= 
await 
_userRepository ,
., -
GetByUsernameAsync- ?
(? @
loginDto@ H
.H I
UsernameI Q
)Q R
;R S
if 
( 
user 
== 
null 
) 
{ 
return   
Unauthorized   #
(  # $
$str  $ <
)  < =
;  = >
}!! 
if%% 
(%% 
user%% 
.%% 
PasswordHash%% !
!=%%" $
loginDto%%% -
.%%- .
Password%%. 6
)%%6 7
{&& 
return'' 
Unauthorized'' #
(''# $
$str''$ =
)''= >
;''> ?
}(( 
Response** 
.** 
Cookies** 
.** 
Append** #
(**# $
$str**$ ,
,**, -
user**. 2
.**2 3
Id**3 5
.**5 6
ToString**6 >
(**> ?
)**? @
,**@ A
new**B E
CookieOptions**F S
{**T U
HttpOnly**V ^
=**_ `
true**a e
,**e f
Secure**g m
=**n o
true**p t
}**u v
)**v w
;**w x
Response++ 
.++ 
Cookies++ 
.++ 
Append++ #
(++# $
$str++$ .
,++. /
user++0 4
.++4 5
Role++5 9
,++9 :
new++; >
CookieOptions++? L
{++M N
HttpOnly++O W
=++X Y
true++Z ^
,++^ _
Secure++` f
=++g h
true++i m
}++n o
)++o p
;++p q
var.. 
response.. 
=.. 
new.. 
LoginResponseDto.. /
{// 
Id00 
=00 
user00 
.00 
Id00 
,00 
Username11 
=11 
user11 
.11  
Username11  (
,11( )
Role22 
=22 
user22 
.22 
Role22  
}33 
;33 
return55 
Ok55 
(55 
response55 
)55 
;55  
}66 	
}77 
}88 æ	
äC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Application\Interfaces\IUserRepository.cs
	namespace 	
InventoryManagement
 
. 
Application )
.) *

Interfaces* 4
;4 5
public 
	interface 
IUserRepository  
{ 
Task 
< 	
User	 
? 
> 
GetByUsernameAsync "
(" #
string# )
username* 2
)2 3
;3 4
Task 
AddUserAsync	 
( 
User 
user 
)  
;  !
Task 
UpdateUserAsync	 
( 
User 
user "
)" #
;# $
Task 
< 	
List	 
< 
User 
> 
> 
GetAllUsersAsync %
(% &
)& '
;' (
Task		 
<		 	
User			 
?		 
>		 
GetByIdAsync		 
(		 
short		 "
id		# %
)		% &
;		& '
}

 â
éC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Application\Interfaces\ISupplierRepository.cs
	namespace 	
InventoryManagement
 
. 
Application )
.) *

Interfaces* 4
;4 5
public 
	interface 
ISupplierRepository $
{ 
Task 
< 	
Supplier	 
? 
> 
GetByIdAsync  
(  !
short! &
id' )
)) *
;* +
Task 
< 	
List	 
< 
Supplier 
> 
> 
GetAllAsync $
($ %
)% &
;& '
Task		 
AddAsync			 
(		 
Supplier		 
supplier		 #
)		# $
;		$ %
Task

 
UpdateAsync

	 
(

 
Supplier

 
supplier

 &
)

& '
;

' (
} ¡
çC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Application\Interfaces\IProductRepository.cs
	namespace 	
InventoryManagement
 
. 
Application )
.) *

Interfaces* 4
;4 5
public 
	interface 
IProductRepository #
{ 
Task 
< 	
List	 
< 
Product 
> 
> 
GetAllAsync #
(# $
)$ %
;% &
Task 
AddAsync	 
( 
Product 
product !
)! "
;" #
} ä
éC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Application\Interfaces\ICategoryRepository.cs
	namespace 	
InventoryManagement
 
. 
Application )
.) *

Interfaces* 4
;4 5
public 
	interface 
ICategoryRepository $
{ 
Task 
AddAsync	 
( 
Category 
category #
)# $
;$ %
} Ø
ÜC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Application\DTOs\UpdateSupplierDto.cs
	namespace 	
InventoryManagement
 
. 
Application )
.) *
DTOs* .
;. /
public 
class 
UpdateSupplierDto 
{ 
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
=% &
string' -
.- .
Empty. 3
;3 4
public 

string 
? 
Nit 
{ 
get 
; 
set !
;! "
}# $
public 

string 
? 
Address 
{ 
get  
;  !
set" %
;% &
}' (
public 

string 
? 
Phone 
{ 
get 
; 
set  #
;# $
}% &
public		 

string		 
?		 
Email		 
{		 
get		 
;		 
set		  #
;		# $
}		% &
public

 

string

 
?

 
ContactName

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
} ‰
ÖC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Application\DTOs\LoginResponseDto.cs
	namespace 	
InventoryManagement
 
. 
Application )
.) *
DTOs* .
;. /
public 
class 
LoginResponseDto 
{ 
public 

short 
Id 
{ 
get 
; 
set 
; 
}  !
public 

string 
Username 
{ 
get  
;  !
set" %
;% &
}' (
=) *
string+ 1
.1 2
Empty2 7
;7 8
public 

string 
Role 
{ 
get 
; 
set !
;! "
}# $
=% &
string' -
.- .
Empty. 3
;3 4
} ∆
}C:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Application\DTOs\LoginDto.cs
	namespace 	
InventoryManagement
 
. 
Application )
.) *
DTOs* .
;. /
public 
class 
LoginDto 
{ 
public 

required 
string 
Username #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

required 
string 
Password #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} ï
ÇC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Application\DTOs\CreateUserDto.cs
	namespace 	
InventoryManagement
 
. 
Application )
.) *
DTOs* .
;. /
public 
class 
CreateUserDto 
{ 
public 

required 
string 
Username #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

required 
string 
Password #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

required 
string 
	FirstName $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 

required 
string 
LastName #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public		 

string		 
?		 
SecondLastName		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
public

 

required

 
string

 
Role

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
} Ø
ÜC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Application\DTOs\CreateSupplierDto.cs
	namespace 	
InventoryManagement
 
. 
Application )
.) *
DTOs* .
;. /
public 
class 
CreateSupplierDto 
{ 
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
=% &
string' -
.- .
Empty. 3
;3 4
public 

string 
? 
Nit 
{ 
get 
; 
set !
;! "
}# $
public 

string 
? 
Address 
{ 
get  
;  !
set" %
;% &
}' (
public 

string 
? 
Phone 
{ 
get 
; 
set  #
;# $
}% &
public		 

string		 
?		 
Email		 
{		 
get		 
;		 
set		  #
;		# $
}		% &
public

 

string

 
?

 
ContactName

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
} Œ

ÖC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Application\DTOs\CreateProductDto.cs
	namespace 	
InventoryManagement
 
. 
Application )
.) *
DTOs* .
;. /
public 
class 
CreateProductDto 
{ 
public 

required 
short 
Id 
{ 
get "
;" #
set$ '
;' (
}) *
public 

required 
string 
Name 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
string0 6
.6 7
Empty7 <
;< =
public 

string 
? 
Description 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

required 
short 

CategoryId $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public		 

short		 

TotalStock		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
=		* +
$num		, -
;		- .
}

 •
ÜC:\Users\Adrian\source\repos\InventoryManagement\Backend\InventoryManagement\InventoryManagement\Application\DTOs\CreateCategoryDto.cs
	namespace 	
InventoryManagement
 
. 
Application )
.) *
DTOs* .
;. /
public 
class 
CreateCategoryDto 
{ 
public 

required 
string 
Name 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
string0 6
.6 7
Empty7 <
;< =
public 

string 
? 
Description 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 